<template>
  <div>
    <!-- ãƒ‡ãƒ¢ãƒãƒŠãƒ¼ï¼ˆÃ—ãƒœã‚¿ãƒ³ä»˜ãï¼‰ -->
    <div 
      v-if="!demoBannerClosed"
      class="demo-banner fixed top-0 left-0 w-full bg-accent-500 text-white text-center py-2 px-4 z-50 flex items-center justify-center"
    >
      <span class="text-sm font-medium">
        ğŸ­ ã“ã‚Œã¯ãƒ‡ãƒ¢ç”¨ã®ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã‚µã‚¤ãƒˆã§ã™ - å®Ÿéš›ã®ã‚µãƒ¼ãƒ“ã‚¹ã§ã¯ã‚ã‚Šã¾ã›ã‚“
      </span>
      <button 
        @click="closeDemoBanner"
        class="ml-4 hover:bg-white/20 rounded-full p-1 transition-colors duration-200"
        aria-label="ãƒ‡ãƒ¢ãƒãƒŠãƒ¼ã‚’é–‰ã˜ã‚‹"
      >
        <X class="w-4 h-4" />
      </button>
    </div>
    
    <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
    <AppHeader :demo-banner-closed="demoBannerClosed" />
    
    <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼ˆãƒ•ã‚§ãƒ¼ãƒ‰åŠ¹æœä»˜ãï¼‰ -->
    <div class="page-container" :class="{ 'with-banner': !demoBannerClosed }">
      <NuxtPage :transition="{ name: 'fade', mode: 'out-in' }" />
    </div>
    
    <!-- ãƒ•ãƒƒã‚¿ãƒ¼ -->
    <AppFooter />
  </div>
</template>

<script setup>
import { X } from 'lucide-vue-next'

// ãƒ‡ãƒ¢ãƒãƒŠãƒ¼ã®çŠ¶æ…‹ç®¡ç†
const demoBannerClosed = ref(false)

// ãƒ‡ãƒ¢ãƒãƒŠãƒ¼ã‚’é–‰ã˜ã‚‹
const closeDemoBanner = () => {
  demoBannerClosed.value = true
}
</script>

<style>
/* ãƒ‡ãƒ¢ãƒãƒŠãƒ¼ */
.demo-banner {
  height: 40px;
  transition: all 0.3s ease-in-out;
}

/* ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒ†ãƒŠ */
.page-container {
  position: relative;
  width: 100%;
  min-height: 100vh;
  transition: margin-top 0.3s ease-in-out;
}

.page-container.with-banner {
  margin-top: 40px; /* ãƒ‡ãƒ¢ãƒãƒŠãƒ¼ã®é«˜ã•åˆ† */
}

/* ãƒ•ã‚§ãƒ¼ãƒ‰ãƒˆãƒ©ãƒ³ã‚¸ã‚·ãƒ§ãƒ³ */
.fade-enter-active,
.fade-leave-active {
  transition: opacity 0.4s ease-in-out;
}

.fade-enter-from,
.fade-leave-to {
  opacity: 0;
}

.fade-enter-to,
.fade-leave-from {
  opacity: 1;
}

/* ãƒšãƒ¼ã‚¸å…¨ä½“ã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ä½ç½®ã‚’ãƒªã‚»ãƒƒãƒˆ */
.fade-enter-active {
  position: relative;
}

/* ã‚¹ãƒ ãƒ¼ã‚ºã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å®Œå…¨ç„¡åŠ¹åŒ– */
* {
  scroll-behavior: auto !important;
}

html, body {
  scroll-behavior: auto !important;
}
</style>